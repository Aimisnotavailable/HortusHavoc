<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Draw A Garden</title>
    <link rel="stylesheet" href="src/styles.css">
    <style>
        /* NUCLEAR MOBILE FIX: Prevents "Rubber Band" scrolling on iOS */
        html, body { 
            width: 100%; height: 100%; 
            margin: 0; padding: 0;
            overflow: hidden; 
            position: fixed; 
            background: #000; 
            touch-action: none;
            -webkit-user-select: none; user-select: none;
            font-family: 'Segoe UI', sans-serif;
            color: #e0e0e0;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <canvas id="gameCanvas"></canvas>
        
        <div id="ui-layer">
            <div class="hud-bar">
                <div class="panel">
                    <span id="ui-time-icon" class="panel-icon">‚òÄÔ∏è</span> 
                    <span id="ui-time-text">12:00</span>
                    <span style="opacity:0.5; margin:0 5px;">|</span>
                    <span id="ui-weather">Clear</span> </div>
                
                <div class="panel">
                    üí® <span id="ui-wind-speed">0</span>
                    <span id="ui-wind-arrow" style="display:inline-block; transition: transform 0.5s;">‚û°</span>
                </div>

                <div class="panel" title="Environment">
                    üíß <span id="ui-puddle">0%</span>
                    ‚ùÑÔ∏è <span id="ui-snow">0%</span>
                </div>

                <div class="panel" title="Light Beam Intensity">
                    ‚ú® <span id="ui-beams">0%</span>
                </div>

                <div class="panel">üå± <span id="ui-plant-count">0</span></div>
            </div>
        </div>
    </div>

    <div id="editor-modal" class="modal-overlay">
        <div class="editor-panel">
            <div style="text-align: center; margin-bottom: 5px;">
                <h3>New Plant</h3>
                <input type="text" id="username" placeholder="Your Name" value="Guest" 
                       style="background:#333; border:1px solid #555; color:white; padding:5px; border-radius:4px; text-align:center;">
            </div>

            <div class="layer-tabs">
                <button class="tab stem active" id="btn-layer-stem">Stem</button>
                <button class="tab leaves" id="btn-layer-leaves">Leaves</button>
                <button class="tab flower" id="btn-layer-flower">Flower</button>
            </div>

            <div class="canvas-stack-container">
                <canvas id="canvas-stem" class="layer-canvas active" width="200" height="400"></canvas>
                <canvas id="canvas-leaves" class="layer-canvas inactive" width="200" height="400"></canvas>
                <canvas id="canvas-flower" class="layer-canvas inactive" width="200" height="400"></canvas>
            </div>

            <div class="editor-controls">
                <div class="control-row">
                    <span class="control-label">Color</span>
                    <input type="color" id="editor-color" value="#4caf50">
                </div>
                <div class="control-row">
                    <span class="control-label">Size</span>
                    <input type="range" id="editor-size" min="1" max="40" value="10">
                </div>
            </div>

            <div class="actions">
                <button class="btn-danger" id="btn-cancel">Cancel</button>
                <button class="btn-danger" id="btn-clear">Clear</button>
                <button class="btn-primary" id="btn-save">PLANT!</button>
            </div>
        </div>
    </div>

    <script type="module" src="src/main.js"></script>
</body>
</html>